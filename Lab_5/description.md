### Диаграмма состояний

Диаграмма состояний отражает жизненный цикл заказа, начиная с его оформления и заканчивая завершением исполнения.

#### Состояния:

- **Сформирован**: Начальное состояние заказа. Переход осуществляется, когда заказ успешно формирован.
    - **Переход**: `[заказ сформирован]` → переход к состоянию "Оплачен".
- **Оплачен**: Состояние, в котором заказ уже оплачен участником.
    - **Переход**: `[заказ оплачен]` → передача на исполнение (вход в композитный блок "Передан на исполнение").
- **Передан на исполнение**:
    - Подсостояния:
        1. **В очереди**: Заказ ждет свободного персонала.
            - Условие: `[нет свободного персонала]` → заказ остается в состоянии "В очереди".
            - Условие: `[есть свободный персонал]` → переход в состояние "Выполняется".
        2. **Выполняется**: Персонал начинает исполнять заказ.
- **Завершен**: Финальное состояние после успешного исполнения заказа.

---

### Диаграмма деятельности

Диаграмма деятельности описывает взаимодействие участника, системы и персонала клуба при заказе услуги, начиная с момента посещения клуба и заканчивая созданием акта оказания услуги.

#### Дорожки:

- **Участник**: Пользователь системы, который посещает клуб, выбирает услугу и оплачивает заказ.
- **Система**: Автоматизированная система, которая управляет всеми этапами обработки заказов.
- **Персонал**: Работники клуба, которые исполняют заказы, поступающие в очередь.

#### Последовательность действий:

1. **Участник**: Посещает клуб.
1. **Система**:  Автоматически фиксирует факт посещения.
1. **Система**: Показывает доступные услуги участнику.
1. **Участник**: Выбирает услугу.
1. **Система**: Формирует заказ и предлагает участнику оплатить его.
1. **Участник**: Осуществляет оплату.
1. **Система**: Проверяет успешность оплаты:
    - Если **оплата прошла**, заказ помещается в очередь.
    - Если **оплата не прошла**, процесс завершается.
1. **Система**: Анализирует наличие свободного персонала:
    - Если **есть свободный персонал**, заказ передается на исполнение.
    - Если **нет свободного персонала**, заказ остается в очереди, пока персонал не освободится.
1. **Персонал**: Исполняет заказ, как только находится свободный работник.
1. **Система**: Завершает процесс, фиксируя факт оказания услуги в акте оказания услуги.

---
